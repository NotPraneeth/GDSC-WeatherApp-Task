{"ast":null,"code":"import _slicedToArray from\"C:/Users/rspha/OneDrive/Documents/WEB-DEV/GDSC/weather-app-v2-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import axios from\"axios\";import{ColorRing}from\"react-loader-spinner\";import CurrentWeather from\"./CurrentWeather\";import CurrentDate from\"./CurrentDate\";import DailyForecast from\"./DailyForecast\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Weather(props){var _useState=useState({ready:false}),_useState2=_slicedToArray(_useState,2),weatherData=_useState2[0],setWeatherData=_useState2[1];var _useState3=useState(props.defaultCity),_useState4=_slicedToArray(_useState3,2),city=_useState4[0],setCity=_useState4[1];function handleResponse(response){setWeatherData({ready:true,city:response.data.name,date:new Date(response.data.dt*1000),description:response.data.weather[0].description,temperature:response.data.main.temp,humidity:response.data.main.humidity,wind:response.data.wind.speed,icon:response.data.weather[0].icon,coord:response.data.coord});}function search(){var apiKey=\"5166d6bfe55bc81ec2d7bb78b538650f\";var apiUrl=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(city,\"&appid=\").concat(apiKey,\"&units=metric\");axios.get(apiUrl).then(handleResponse);}function searchCity(e){e.preventDefault();search();}function changeCity(e){setCity(e.target.value);}if(weatherData.ready){return/*#__PURE__*/_jsxs(\"div\",{className:\"container p-5 pb-3 shadow rounded-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Search\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"input-group\",onSubmit:searchCity,children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-control input\",type:\"search\",placeholder:\"Enter a city\",onChange:changeCity}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary me-3\",type:\"submit\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-magnifying-glass\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"city\",children:/*#__PURE__*/_jsx(\"h2\",{children:weatherData.city})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(CurrentDate,{date:weatherData.date})}),/*#__PURE__*/_jsx(\"p\",{className:\"weather-dscr\",children:weatherData.description}),/*#__PURE__*/_jsx(CurrentWeather,{data:weatherData}),/*#__PURE__*/_jsx(DailyForecast,{coordinates:weatherData.coord})]});}else{search();return/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",children:/*#__PURE__*/_jsx(ColorRing,{visible:true,height:\"80\",width:\"80\",ariaLabel:\"blocks-loading\",wrapperStyle:{},wrapperClass:\"blocks-wrapper\",colors:[\"#5c7aff\",\"#1ccad8\",\"#f8f7f9\",\"#f7ec59\",\"#ff66d8\"]})});}}","map":{"version":3,"names":["React","useState","axios","ColorRing","CurrentWeather","CurrentDate","DailyForecast","Weather","props","ready","weatherData","setWeatherData","defaultCity","city","setCity","handleResponse","response","data","name","date","Date","dt","description","weather","temperature","main","temp","humidity","wind","speed","icon","coord","search","apiKey","apiUrl","get","then","searchCity","e","preventDefault","changeCity","target","value"],"sources":["C:/Users/rspha/OneDrive/Documents/WEB-DEV/GDSC/weather-app-v2-react/src/Weather.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { ColorRing } from \"react-loader-spinner\";\r\nimport CurrentWeather from \"./CurrentWeather\";\r\nimport CurrentDate from \"./CurrentDate\";\r\nimport DailyForecast from \"./DailyForecast\";\r\n\r\nexport default function Weather(props) {\r\n   const [weatherData, setWeatherData] = useState({ ready: false });\r\n   const [city, setCity] = useState(props.defaultCity);\r\n\r\n   function handleResponse(response) {\r\n      setWeatherData({\r\n         ready: true,\r\n         city: response.data.name,\r\n         date: new Date(response.data.dt * 1000),\r\n         description: response.data.weather[0].description,\r\n         temperature: response.data.main.temp,\r\n         humidity: response.data.main.humidity,\r\n         wind: response.data.wind.speed,\r\n         icon: response.data.weather[0].icon,\r\n         coord: response.data.coord,\r\n      });\r\n   }\r\n\r\n   function search() {\r\n      const apiKey = \"5166d6bfe55bc81ec2d7bb78b538650f\";\r\n      const apiUrl = `https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${apiKey}&units=metric`;\r\n      axios.get(apiUrl).then(handleResponse);\r\n   }\r\n\r\n   function searchCity(e) {\r\n      e.preventDefault();\r\n      search();\r\n   }\r\n\r\n   function changeCity(e) {\r\n      setCity(e.target.value);\r\n   }\r\n\r\n   if (weatherData.ready) {\r\n      return (\r\n         <div className=\"container p-5 pb-3 shadow rounded-4\">\r\n            <div className=\"Search\">\r\n               <form className=\"input-group\" onSubmit={searchCity}>\r\n                  <input\r\n                     className=\"form-control input\"\r\n                     type=\"search\"\r\n                     placeholder=\"Enter a city\"\r\n                     onChange={changeCity}\r\n                  />\r\n                  <button className=\"btn btn-primary me-3\" type=\"submit\">\r\n                     <i className=\"fa-solid fa-magnifying-glass\"></i>\r\n                  </button>\r\n               </form>\r\n            </div>\r\n            <div className=\"city\">\r\n               <h2>{weatherData.city}</h2>\r\n            </div>\r\n            <p>\r\n               <CurrentDate date={weatherData.date} />\r\n            </p>\r\n            <p className=\"weather-dscr\">{weatherData.description}</p>\r\n            <CurrentWeather data={weatherData} />\r\n            <DailyForecast coordinates={weatherData.coord} />\r\n         </div>\r\n      );\r\n   } else {\r\n      search();\r\n      return (\r\n         <div className=\"spinner\">\r\n            <ColorRing\r\n               visible={true}\r\n               height=\"80\"\r\n               width=\"80\"\r\n               ariaLabel=\"blocks-loading\"\r\n               wrapperStyle={{}}\r\n               wrapperClass=\"blocks-wrapper\"\r\n               colors={[\"#5c7aff\", \"#1ccad8\", \"#f8f7f9\", \"#f7ec59\", \"#ff66d8\"]}\r\n            />\r\n         </div>\r\n      );\r\n   }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}